"""
薬剤分類辞書
key: 一般名（normalize_generic後と一致させる） / value: 日本語の薬効分類
"""

# 今回の11剤＋周辺の薬剤分類辞書
CLASS_BY_GENERIC = {
    # 今回の11剤
    "フェブキソスタット": "高尿酸血症治療薬（キサンチン酸化酵素阻害薬）",
    "ナルフラフィン塩酸塩": "かゆみ治療薬（κオピオイド受容体作動薬）",
    "センノシド": "下剤（刺激性）",
    "ピコスルファートナトリウム": "下剤（刺激性）",
    "リナクロチド": "便秘症治療薬（GC-C受容体作動薬）",
    "モンテルカスト": "抗アレルギー薬（LTRA）",
    "エロビキシバット": "便秘症治療薬（胆汁酸トランスポーター阻害薬）",
    "沈降炭酸カルシウム": "リン吸着薬／制酸薬",
    "エボカルセト": "副甲状腺機能亢進症治療薬（Ca受容体作動薬）",
    "芍薬甘草湯": "漢方エキス（筋痙攣・疼痛）",
    "ジクロフェナクナトリウム（外用）": "NSAIDs外用",
    
    # 画像照合で発見された薬剤（修正版）
    "タダラフィル": "PDE5阻害薬（前立腺肥大症・ED・肺高血圧）",
    "ニコランジル": "冠血管拡張薬（狭心症治療薬）",
    "サクビトリル/バルサルタン": "ARNI（心不全治療薬）",
    "テルミサルタン/アムロジピン": "降圧薬（ARB＋Ca拮抗薬）",
    "テラムロAP": "降圧薬（ARB＋Ca拮抗薬）",
    "エナラプリル": "ACE阻害薬",
    "ボノプラザン": "P-CAB（新型胃酸抑制薬）",
    "タケキャブ": "P-CAB（新型胃酸抑制薬）",
    
    # 睡眠薬
    "ゾルピデム酒石酸塩": "睡眠薬（非ベンゾジアゼピン系）",
    "スボレキサント": "睡眠薬（オレキシン受容体拮抗薬）",
    "レンボレキサント": "睡眠薬（オレキシン受容体拮抗薬）",
    "ラメルテオン": "睡眠薬（メラトニン受容体作動薬）",
    "ベルソムラ": "睡眠薬（オレキシン受容体拮抗薬）",
    "デエビゴ": "睡眠薬（オレキシン受容体拮抗薬）",
    "デビゴ": "睡眠薬（オレキシン受容体拮抗薬）",
    "ロゼレム": "睡眠薬（メラトニン受容体作動薬）",
    
    # 抗うつ薬
    "エスシタロプラムシュウ酸塩": "抗うつ薬（SSRI）",
    "ミアンセリン塩酸塩": "抗うつ薬（NaSSA様/四環系）",
    "フルボキサミン": "抗うつ薬（SSRI）",
    
    # 消化管機能薬
    "エソメプラゾール": "消化管機能薬（PPI）",
    "ランソプラゾール": "消化管機能薬（PPI）",
    "ボノプラザン": "消化管機能薬（P-CAB）",
    "タケキャブ": "消化管機能薬（P-CAB）",
    
    # 電解質・ミネラル製剤
    "L-アスパラギン酸カルシウム": "電解質・ミネラル（カルシウム製剤）",
    
    # 循環器系
    "アムロジピン": "カルシウム拮抗薬",
    "ベニジピン": "カルシウム拮抗薬",
    "ニフェジピン": "カルシウム拮抗薬",
    
    # 抗生物質
    "クラリスロマイシン": "抗生物質（マクロライド系）",
    
    # その他
    "オルケディア": "副甲状腺機能亢進症治療薬（Ca受容体作動薬）",
    "ラキソベロン": "下剤（刺激性：ピコスルファート）",
    "ピコスルファートナトリウム": "下剤（刺激性：ピコスルファート）",
    "リンゼス": "便秘症治療薬（GC-C受容体作動薬）",
    "グーフィス": "便秘症治療薬（胆汁酸トランスポーター阻害薬）",
    "ツムラ芍薬甘草湯エキス顆粒": "漢方エキス（筋痙攣・疼痛）",
    "ジクロフェナクNaゲル": "NSAIDs外用",
    
    # 今回の10剤の詳細分類
    "エボカルセト": "副甲状腺機能亢進症治療薬（Ca受容体作動薬）",
    "フェブキソスタット": "高尿酸血症治療薬（XO阻害）",
    "ナルフラフィン塩酸塩": "かゆみ治療薬（κオピオイド作動）",
    "センノシド": "下剤（刺激性）",
    "ピコスルファートナトリウム": "下剤（刺激性）",
    "リナクロチド": "便秘症治療薬（GC-C作動）",
    "モンテルカスト": "抗アレルギー（LTRA）",
    "エロビキシバット": "便秘症治療薬（胆汁酸トランスポーター阻害）",
    "沈降炭酸カルシウム": "リン吸着薬／制酸薬",
    "芍薬甘草湯": "漢方エキス（筋痙攣・疼痛）",
    
    # 新たに追加された薬剤（修正版）
    "エンレスト": "心不全治療薬（ARNI）",
    "アスピリン": "抗血小板薬（NSAIDs）",
    "アスピリン腸溶": "抗血小板薬（NSAIDs）",
    "キックリン": "リン吸着薬",
    "トラマドール・アセトアミノフェン": "鎮痛薬（オピオイド＋アセトアミノフェン配合）",
    "テルミサルタン": "ARB（アンジオテンシン受容体拮抗薬）",
    "アムロジピン": "カルシウム拮抗薬",
    "テルミサルタン・アムロジピン": "ARB＋カルシウム拮抗薬配合",
    "ファモチジン": "H2ブロッカー",
    "ファモチジンロ腔内崩壊": "H2ブロッカー",
    "センナ": "下剤（刺激性）",
    "センナ・センナ実": "下剤（刺激性）",
    "センナ・センナ実配合": "下剤（刺激性）",
}

def get_drug_class(generic_name: str) -> str:
    """一般名から薬効分類を取得"""
    return CLASS_BY_GENERIC.get(generic_name, None)

def add_drug_class(generic_name: str, classification: str):
    """新しい薬剤分類を追加"""
    CLASS_BY_GENERIC[generic_name] = classification

def get_all_classes() -> dict:
    """すべての薬剤分類を取得"""
    return CLASS_BY_GENERIC.copy()
