# 薬剤相互作用ルール定義
# タグベースの相互作用判定システム

- id: raas_double_block
  name: "RAAS二重遮断（ARB/ARNIの重複）"
  severity: major
  description: "ARB/ARNIの重複使用による低血圧・高K血症・腎機能悪化のリスク"
  need_tags:
    any_of: ["RAAS"]
    min_count: 2
  advice: "ARB/ARNIの重複。低血圧・高K血症・腎機能悪化の恐れ。併用回避を検討し医師へ照会。"
  examples:
    - "エンレスト + テルミサルタン"
    - "バルサルタン + カンデサルタン"

- id: ccb_duplication
  name: "カルシウム拮抗薬の重複"
  severity: moderate
  description: "CCBの重複使用による過度の降圧・浮腫・めまいのリスク"
  need_tags:
    any_of: ["CCB"]
    min_count: 2
  advice: "過度の降圧・浮腫・めまいに注意。投与目的の重複がないか確認。"
  examples:
    - "アムロジピン + ニフェジピン"
    - "ジルチアゼム + ベラパミル"

- id: stimulant_laxative_multi
  name: "刺激性下剤の併用"
  severity: moderate
  description: "刺激性下剤の併用による下痢・脱水・低K血症のリスク"
  need_tags:
    any_of: ["STIM_LAX"]
    min_count: 2
  advice: "下痢・脱水・低K血症に注意。症状強い場合は減量/間欠投与を検討。"
  examples:
    - "センノシド + センナ"
    - "ピコスルファートナトリウム + センノシド"

- id: antiplatelet_combination
  name: "抗血小板薬の併用"
  severity: major
  description: "抗血小板薬の併用による出血リスクの増加"
  need_tags:
    any_of: ["ANTI_PLATELET"]
    min_count: 2
  advice: "出血リスクが増加。特に消化管出血に注意。必要最小限の併用期間に留める。"
  examples:
    - "アスピリン + クロピドグレル"
    - "アスピリン + プラスグレル"

- id: opioid_analgesic_combination
  name: "オピオイド鎮痛薬の併用"
  severity: moderate
  description: "オピオイド鎮痛薬の併用による呼吸抑制・眠気のリスク"
  need_tags:
    any_of: ["OPIOID"]
    min_count: 2
  advice: "呼吸抑制・眠気に注意。特に高齢者では慎重に。"
  examples:
    - "トラマドール + モルヒネ"
    - "オキシコドン + フェンタニル"

- id: nsaid_combination
  name: "NSAIDsの併用"
  severity: moderate
  description: "NSAIDsの併用による消化管障害・腎機能悪化のリスク"
  need_tags:
    any_of: ["NSAID"]
    min_count: 2
  advice: "消化管障害・腎機能悪化に注意。胃薬の併用を検討。"
  examples:
    - "ロキソプロフェン + ジクロフェナク"
    - "イブプロフェン + アスピリン"